<!DOCTYPE HTML>
<html>
	<head>
		<!-- GENERATED -->
		<script src="script/generated/resources.js"></script>

		<!-- ENGINE SCRIPTS -->
		<script src="script/engine/color_util.js"></script>
		<script src="script/engine/font.js"></script>
		<script src="script/engine/transition.js"></script>
		<script src="script/engine/script.js"></script>
		<script src="script/engine/dialog.js"></script>
		<script src="script/engine/renderer.js"></script>
		<script src="script/engine/bitsy.js"></script>

		<!-- EDITOR SCRIPTS -->
		<script src="script/text_editor.js"></script>

		<style>
			/*#textEditorInput {
				display: none;
			}*/
			#textEditorCanvas {
				background: green;
				/*width: 256px;*/
				width: 300px;
			}
		</style>

		<script>
			/*
			TODO 
				- figure out how to activate soft keyboard on mobile
				X show all text instantly [probably need to extend Skip functionality]
				X extend textbox past two lines
				X fit textbox to canvas
				X show text effects [have to run through script engine]
				X enum for textbox positions
				X shrink textbox when text gets smaller
				X encapsulate into its own class / file
				- consider perf & formatting for all supported languages!!!
				- basic text input (add, delete)
				- basic text cursor
				- how do we handle when you type in some code??
			*/

			isPlayerEmbeddedInEditor = true;

			var textEditor;

			function onChangeTextEditorInput() {
				console.log(document.getElementById("textEditorInput").value);

				textEditor.SetText(document.getElementById("textEditorInput").value);
			}

			fontManager = new FontManager(["ascii_small.bitsyfont"]);

			function init() {
				textEditor = new TextEditor();
				var canvas = textEditor.GetCanvas();
				canvas.style.width = "312px";
				document.body.appendChild(canvas);
				textEditor.SetText(document.getElementById("textEditorInput").value);
			}
		</script>
	</head>

	<body onload="init();">
		<input id="textEditorInput" type="text" onchange="onChangeTextEditorInput();" />
		<br/>
	</body>
</html>